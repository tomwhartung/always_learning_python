
 Homework
==========

Assigned:
---------
1. Complete the Flask Quick Start
2. Complete the Flask Tutorial

0. Preparation:
---------------
Re-try virtualenv setup.

Goal: To be able to enter a virtual env where python3.6 is the default version of python.

Note: Python3.6 is already installed

0.1 First Try - Unsuccessful but Making Progress

As tomh:
python3.6 -m venv flask_python3_6_bette

- gives error:
  The virtual environment was not created successfully because ensurepip is not
  available.  On Debian/Ubuntu systems, you need to install the python3-venv
  package using the following command.
      apt-get install python3-venv

As root:
  apt-get install python3-venv

- Still did not work.
- Reference:
  http://stackoverflow.com/questions/39539110/pyvenv-not-working-because-ensurepip-is-not-available

As root:
  export LC_ALL="en_US.UTF-8"
  export LC_CTYPE="en_US.UTF-8"
  dpkg-reconfigure locales        # OK -> OK -> OK

- Still did not work.

As root:
  apt-get install python3.6-venv -y

As tomh:
  python3.6 -m venv flask_python3_6_bette
  echo '. flask_python3_6_bette/bin/activate' > flask_python3_6_bette.sh
  chmod +x flask_python3_6_bette.sh
  . flask_python3_6_bette.sh
  python
  Python 3.6.0+ (default, Feb  4 2017, 11:11:46)
  [GCC 5.4.1 20161202] on linux
  Type "help", "copyright", "credits" or "license" for more information.
  >>>
  $

So far so good!

As tomh:
  pip install Flask==0.12

Gives error:
  bash: /var/www/always_learning/github/customizations/always_learning_python/8-real_python_class/2017_01_24-Lesson_1/virtualenvs/flask_python3_6_bette/bin/pip: /var/www/always_learning/github/customizations/always_learning_python/8-real_: bad interpreter: No such file or directory

Sheesh wtf....  It looks like the virtual env is corrupted somehow.

0.2 Trying again
Install pip (in addition to pip3)

As root:
  apt-get install python-pip

Unhelpful.

Now thinking that maybe the issue looks like it may be the "-" in the directory name (i.e. in "8-real_")

0.3 Trying again

As tomh:
  cd /var/www/always_learning/github/customizations/always_learning_python/virtualenvs
  python3.6 -m venv rp_1_python3_6_flask_bette
  . rp_1_python3_6_flask_bette/bin/activate
  pip install Flask==0.12

This worked much better, but got these errors:

  error: invalid command 'bdist_wheel'
  ----------------------------------------
  Failed building wheel for itsdangerous
  Running setup.py clean for itsdangerous
  Running setup.py bdist_wheel for MarkupSafe ... error
  Complete output from command /var/www/always_learning/github/customizations/always_learning_python/virtualenvs/rp_1_python3_6_flask_bette/bin/python3.6 -u -c "import setuptools, tokenize;__file__='/tmp/pip-build-s_howo5m/MarkupSafe/setup.py';exec(compile(getattr(tokenize, 'open', open)(__file__).read().replace('\r\n', '\n'), __file__, 'exec'))" bdist_wheel -d /tmp/tmpfo_vzw_4pip-wheel- --python-tag cp36:
  usage: -c [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]
     or: -c --help [cmd1 cmd2 ...]
     or: -c --help-commands
     or: -c cmd --help
  error: invalid command 'bdist_wheel'
  ----------------------------------------
  Failed building wheel for MarkupSafe

-> Try using pip3 instead of pip:

As tomh:
  pip3 install Flask==0.12

Apparently we are good.  Output:
  Requirement already satisfied ... (repeatedly)

As tomh:
  python
  >>> import flask
  >>>

No errors - we are good!

0.4 To Use the Final Working Virtual Env:

To enter the virtual environment we are using for this exercise, run:

As tomh:
  cd /var/www/always_learning/github/customizations/always_learning_python/8-real_python_class/2017_01_24-Lesson_1/virtualenvs
  . ./rp_1_python3_6_flask_bette.sh    # changes to directory as in the command below

OR:
As tomh:
  golpy   # cd /var/www/always_learning/github/customizations/always_learning_python
  cd virtualenvs
  . ./rp_1_python3_6_flask_bette.sh    # changes to directory as in the command below

As tomh:
  cd /var/www/always_learning/github/customizations/always_learning_python/8-real_python_class/2017_01_24-Lesson_1/virtualenvs
  . ./rp_1_python3_6_flask_bette.sh    # changes to directory as in the command below

As tomh:
  pip3 freeze > ./rp_1_python3_6_flask_bette-requirements.txt

0.5 Summary:

- virtualenv is outdated, use python3.6 -m venv instead
- Dashes in directory names cause errors in the virtual environments
- Be sure to use pip3 not pip

1. Complete the Flask Quick Start
---------------------------------
Reference:

1.1 Hello world program

As tomh:
  cd /var/www/always_learning/github/customizations/always_learning_python/8-real_python_class/2017_01_24-Lesson_1/virtualenvs
  . rp_1_python3_6_flask_bette.sh
  cd /var/www/always_learning/github/customizations/always_learning_python/8-real_python_class/2017_01_24-Lesson_1/homework/1-flask_quickstart
  export FLASK_APP=hello.py
  python -m flask run

1.2 To run in debug mode:

As tomh:
  export FLASK_DEBUG=1
  python -m flask run

1.3 Playing with routes

As tomh:
  export FLASK_APP=routes-1.py
  python -m flask run


2. Complete the Flask Tutorial
------------------------------



